"use strict";(self.webpackChunkotpuskaet=self.webpackChunkotpuskaet||[]).push([[751],{56751:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var r=n(67294),l=n(67177),o=n(61950),a=n(24404),i=n(73457),s=n(11023),c=n(7586),m=n(61185),g=n(67815),u=n(88548),d=n(41186);const E=i.Z.create({btn:{width:"60%",maxWidth:400,minHeight:45,marginBottom:15},btnText:{width:"100%",height:45,lineHeight:45,fontSize:16,fontWeight:"500",textAlign:"center",textAlignVertical:"center",color:"#FFFFFF",textDecorationLine:"underline"}}),Z=()=>{const{store:e,setStore:t}=(0,r.useContext)(d.ZP),{token:n}=e,l=(0,s.k6)();return r.createElement(r.Fragment,null,null===n?r.createElement(u.Z,{style:E.btn,onPress:()=>{l.push("/login")}},r.createElement(a.Z,{style:E.btnText},"Login using OAuth")):r.createElement(u.Z,{style:E.btn,onPress:()=>{t&&t((e=>({...e,...d.M1})))}},r.createElement(a.Z,{style:E.btnText},"Logout")))};var h=n(28294),y=n(12870);const p=e=>{const{resetError:t}=(0,r.useContext)(y.w5),n=(0,s.k6)();return r.createElement(l.Z,{style:{position:"absolute",backgroundColor:"#F7E5EC",paddingHorizontal:10,paddingVertical:4,maxWidth:250,width:"65%",left:0,right:0,top:"30%",marginHorizontal:"auto",zIndex:55,borderRadius:10}},r.createElement(a.Z,{style:{fontWeight:"500",color:"#FD0845",textAlign:"center",fontSize:16}},e.error.name),r.createElement(a.Z,{style:{textAlign:"center",padding:4}},e.error.message),e.showBack?r.createElement(u.Z,{style:{alignSelf:"center"},onPress:()=>{t&&t(),n.replace("./")}},r.createElement(a.Z,{style:{fontWeight:"500",textAlign:"center",textDecorationLine:"underline"}},"Go back")):null)};var x=n(77829),f=n(5709),F=n(50939),b=n(90246),v=n(84758),k=n(80037),I=n(37279),S=n(48389),W=n(66063),w=n(1151),C=n(49892),N=n(820),z=n(96449),M=n(90889),O=n(85347),T=n(80634);(0,w.Z)();const P=i.Z.create({logoContainerStyle:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},btnContainer:{width:"100%",alignItems:"center"},labelStyle:{paddingLeft:8},root:{flex:1},main:{flexGrow:1,flexDirection:"row",justifyContent:"center"},heading:{fontSize:C.Z.FontSize.extraLarge,fontWeight:"700",lineHeight:C.Z.FontSize.extraLarge,color:"#FFFFFF",fontFamily:C.Z.FontFamily.sansPro}}),J=()=>{(0,g.Ej)();const e=(0,x.ZW)(z.Nq)({eventMode:!1}),t=(0,x.ZW)(z.vD)({eventMode:!1}),n=(0,x.ZW)(z.zH)({eventMode:!1}),i=(0,x.ZW)(z.VB)({eventMode:!1}),u=(0,x.ZW)(z.Ws)({eventMode:!1}),d=(0,x.ZW)(z.Er)({eventMode:!1}),E=(0,x.ZW)(z.lJ)({eventMode:!1}),y=(0,s.k6)(),[w,C]=(0,r.useState)(""),[J,L]=(0,r.useState)(null),j=(0,W.Z)(),{setRoomInfo:G}=(0,F.P)();(0,r.useEffect)((()=>{M.kg.log(M.O3.Internals,"JOIN_MEETING","user landed on join-meeting screen")}),[]);const A=async()=>{M.kg.log(M.O3.Internals,"JOIN_MEETING","User wants to join meeting",w),j(w).then((()=>{G((e=>({...b.EM,loginToken:null==e?void 0:e.loginToken}))),M.kg.log(M.O3.Internals,"JOIN_MEETING","Navigating the user to precall screen or video call screen depending upon the project config",w),y.push(w)})).catch((e=>{const t=null==e?void 0:e.code;-1!==g.kq.indexOf(t)&&(0,O.Z)()&&T.Z.emit("unauthorized",e),M.kg.error(M.O3.Internals,"JOIN_MEETING","Error on join room page",JSON.stringify(e||{}));const n="invalid passphrase"===(null==e?void 0:e.message.toLowerCase().trim())||!1;S.Z.show({leadingIconName:"alert",type:"error",text1:n?d:"Some Error Occured.",text2:n?E:"Please try again",visibilityTime:3e3,primaryBtn:null,secondaryBtn:null,leadingIcon:null})}))},{JoinComponent:B}=(0,f.ae)((e=>({})));return B?r.createElement(B,null):r.createElement(l.Z,{style:P.root},(0,g.XW)()?r.createElement(r.Fragment,null):r.createElement(N.Z,{containerStyle:{marginBottom:-100}}),r.createElement(o.Z,{contentContainerStyle:P.main},J?r.createElement(p,{error:J}):r.createElement(r.Fragment,null),r.createElement(v.Z,null,r.createElement(l.Z,null,r.createElement(l.Z,{style:P.logoContainerStyle},r.createElement(c.Z,null),(0,g.XW)()?r.createElement(N.Z,{containerStyle:{marginTop:0,marginRight:0}}):r.createElement(r.Fragment,null)),r.createElement(m.Z,{size:20}),r.createElement(a.Z,{style:P.heading},e),r.createElement(m.Z,{size:40}),r.createElement(k.Z,{labelStyle:P.labelStyle,label:t,autoFocus:!0,value:w,placeholder:n,onChangeText:e=>C(e),onSubmitEditing:()=>A()}),r.createElement(m.Z,{size:60})),r.createElement(l.Z,{style:P.btnContainer},r.createElement(h.Z,{iconName:"video-on",disabled:""===w,onPress:()=>A(),text:i,containerStyle:(0,g.XW)()&&{width:"100%"}}),r.createElement(m.Z,{size:16}),r.createElement(I.Z,{text:u,onPress:()=>(M.kg.log(M.O3.Internals,"JOIN_MEETING","User is navigated to create-room screen"),void y.push("/create"))}),g.FT?r.createElement(Z,{setError:L}):r.createElement(r.Fragment,null)))))}}}]);